<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-type"/>
  <style>

body {font-family: sans-serif;}
table.dataTable {width: auto !important; margin: 0 !important;}
.dataTables_filter, .dataTables_paginate {float: left !important; margin-left:1em}
td {font-size: 10pt;}
          </style>
  <link href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.css" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.1.1.min.js">
  </script>
  <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js">
  </script>

            <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.flash.min.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
            <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>
             </head>
 <body>
  <script>
var astropy_sort_num = function(a, b) {
    var a_num = parseFloat(a);
    var b_num = parseFloat(b);

    if (isNaN(a_num) && isNaN(b_num))
        return ((a < b) ? -1 : ((a > b) ? 1 : 0));
    else if (!isNaN(a_num) && !isNaN(b_num))
        return ((a_num < b_num) ? -1 : ((a_num > b_num) ? 1 : 0));
    else
        return isNaN(a_num) ? -1 : 1;
}

jQuery.extend( jQuery.fn.dataTableExt.oSort, {
    "optionalnum-asc": astropy_sort_num,
    "optionalnum-desc": function (a,b) { return -astropy_sort_num(a, b); }
});



//// Parser
// https://stackoverflow.com/questions/19491336/get-url-parameter-jquery-or-how-to-get-query-string-values-in-js @ Reza Baradaran
$.urlParam = function(name){
    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
    if (results==null){
       return null;
    }
    else{
       return decodeURI(results[1]) || 0;
    }
}
            
$.fn.dataTable.ext.search.push(
    function( settings, data, dataIndex ) {

        var min_t_g141 = parseFloat( $('#t_g141_min').val()) || -1e30;
        var max_t_g141 = parseFloat( $('#t_g141_max').val()) ||  1e30;
        var data_t_g141 = parseFloat( data[4] ) || 0; 
                
        var min_mag_auto = parseFloat( $('#mag_auto_min').val()) || -1e30;
        var max_mag_auto = parseFloat( $('#mag_auto_max').val()) ||  1e30;
        var data_mag_auto = parseFloat( data[5] ) || 0; 
                
        var min_use_spec = parseFloat( $('#use_spec_min').val()) || -1e30;
        var max_use_spec = parseFloat( $('#use_spec_max').val()) ||  1e30;
        var data_use_spec = parseFloat( data[6] ) || 0; 
                
        var min_is_point = parseFloat( $('#is_point_min').val()) || -1e30;
        var max_is_point = parseFloat( $('#is_point_max').val()) ||  1e30;
        var data_is_point = parseFloat( data[7] ) || 0; 
                
        var min_z_map = parseFloat( $('#z_map_min').val()) || -1e30;
        var max_z_map = parseFloat( $('#z_map_max').val()) ||  1e30;
        var data_z_map = parseFloat( data[8] ) || 0; 
                
        var min_chinu = parseFloat( $('#chinu_min').val()) || -1e30;
        var max_chinu = parseFloat( $('#chinu_max').val()) ||  1e30;
        var data_chinu = parseFloat( data[9] ) || 0; 
                
        var min_bic_diff = parseFloat( $('#bic_diff_min').val()) || -1e30;
        var max_bic_diff = parseFloat( $('#bic_diff_max').val()) ||  1e30;
        var data_bic_diff = parseFloat( data[10] ) || 0; 
                
        var min_zw1 = parseFloat( $('#zw1_min').val()) || -1e30;
        var max_zw1 = parseFloat( $('#zw1_max').val()) ||  1e30;
        var data_zw1 = parseFloat( data[11] ) || 0; 
                
        var min_flux_radius = parseFloat( $('#flux_radius_min').val()) || -1e30;
        var max_flux_radius = parseFloat( $('#flux_radius_max').val()) ||  1e30;
        var data_flux_radius = parseFloat( data[13] ) || 0; 
                
        var min_sn_SIII = parseFloat( $('#sn_SIII_min').val()) || -1e30;
        var max_sn_SIII = parseFloat( $('#sn_SIII_max').val()) ||  1e30;
        var data_sn_SIII = parseFloat( data[14] ) || 0; 
                
        var min_sn_Ha = parseFloat( $('#sn_Ha_min').val()) || -1e30;
        var max_sn_Ha = parseFloat( $('#sn_Ha_max').val()) ||  1e30;
        var data_sn_Ha = parseFloat( data[15] ) || 0; 
                
        var min_sn_OIII = parseFloat( $('#sn_OIII_min').val()) || -1e30;
        var max_sn_OIII = parseFloat( $('#sn_OIII_max').val()) ||  1e30;
        var data_sn_OIII = parseFloat( data[16] ) || 0; 
                
        var min_sn_Hb = parseFloat( $('#sn_Hb_min').val()) || -1e30;
        var max_sn_Hb = parseFloat( $('#sn_Hb_max').val()) ||  1e30;
        var data_sn_Hb = parseFloat( data[17] ) || 0; 
                
        var min_sn_OII = parseFloat( $('#sn_OII_min').val()) || -1e30;
        var max_sn_OII = parseFloat( $('#sn_OII_max').val()) ||  1e30;
        var data_sn_OII = parseFloat( data[18] ) || 0; 
                

        if ( ( ( isNaN( min_t_g141 ) && isNaN( max_t_g141 ) ) || ( isNaN( min_t_g141 ) && data_t_g141 <= max_t_g141 ) || ( min_t_g141 <= data_t_g141  && isNaN( max_t_g141 ) ) || ( min_t_g141 <= data_t_g141  && data_t_g141 <= max_t_g141 ) )
 && ( ( isNaN( min_mag_auto ) && isNaN( max_mag_auto ) ) || ( isNaN( min_mag_auto ) && data_mag_auto <= max_mag_auto ) || ( min_mag_auto <= data_mag_auto  && isNaN( max_mag_auto ) ) || ( min_mag_auto <= data_mag_auto  && data_mag_auto <= max_mag_auto ) )
 && ( ( isNaN( min_use_spec ) && isNaN( max_use_spec ) ) || ( isNaN( min_use_spec ) && data_use_spec <= max_use_spec ) || ( min_use_spec <= data_use_spec  && isNaN( max_use_spec ) ) || ( min_use_spec <= data_use_spec  && data_use_spec <= max_use_spec ) )
 && ( ( isNaN( min_is_point ) && isNaN( max_is_point ) ) || ( isNaN( min_is_point ) && data_is_point <= max_is_point ) || ( min_is_point <= data_is_point  && isNaN( max_is_point ) ) || ( min_is_point <= data_is_point  && data_is_point <= max_is_point ) )
 && ( ( isNaN( min_z_map ) && isNaN( max_z_map ) ) || ( isNaN( min_z_map ) && data_z_map <= max_z_map ) || ( min_z_map <= data_z_map  && isNaN( max_z_map ) ) || ( min_z_map <= data_z_map  && data_z_map <= max_z_map ) )
 && ( ( isNaN( min_chinu ) && isNaN( max_chinu ) ) || ( isNaN( min_chinu ) && data_chinu <= max_chinu ) || ( min_chinu <= data_chinu  && isNaN( max_chinu ) ) || ( min_chinu <= data_chinu  && data_chinu <= max_chinu ) )
 && ( ( isNaN( min_bic_diff ) && isNaN( max_bic_diff ) ) || ( isNaN( min_bic_diff ) && data_bic_diff <= max_bic_diff ) || ( min_bic_diff <= data_bic_diff  && isNaN( max_bic_diff ) ) || ( min_bic_diff <= data_bic_diff  && data_bic_diff <= max_bic_diff ) )
 && ( ( isNaN( min_zw1 ) && isNaN( max_zw1 ) ) || ( isNaN( min_zw1 ) && data_zw1 <= max_zw1 ) || ( min_zw1 <= data_zw1  && isNaN( max_zw1 ) ) || ( min_zw1 <= data_zw1  && data_zw1 <= max_zw1 ) )
 && ( ( isNaN( min_flux_radius ) && isNaN( max_flux_radius ) ) || ( isNaN( min_flux_radius ) && data_flux_radius <= max_flux_radius ) || ( min_flux_radius <= data_flux_radius  && isNaN( max_flux_radius ) ) || ( min_flux_radius <= data_flux_radius  && data_flux_radius <= max_flux_radius ) )
 && ( ( isNaN( min_sn_SIII ) && isNaN( max_sn_SIII ) ) || ( isNaN( min_sn_SIII ) && data_sn_SIII <= max_sn_SIII ) || ( min_sn_SIII <= data_sn_SIII  && isNaN( max_sn_SIII ) ) || ( min_sn_SIII <= data_sn_SIII  && data_sn_SIII <= max_sn_SIII ) )
 && ( ( isNaN( min_sn_Ha ) && isNaN( max_sn_Ha ) ) || ( isNaN( min_sn_Ha ) && data_sn_Ha <= max_sn_Ha ) || ( min_sn_Ha <= data_sn_Ha  && isNaN( max_sn_Ha ) ) || ( min_sn_Ha <= data_sn_Ha  && data_sn_Ha <= max_sn_Ha ) )
 && ( ( isNaN( min_sn_OIII ) && isNaN( max_sn_OIII ) ) || ( isNaN( min_sn_OIII ) && data_sn_OIII <= max_sn_OIII ) || ( min_sn_OIII <= data_sn_OIII  && isNaN( max_sn_OIII ) ) || ( min_sn_OIII <= data_sn_OIII  && data_sn_OIII <= max_sn_OIII ) )
 && ( ( isNaN( min_sn_Hb ) && isNaN( max_sn_Hb ) ) || ( isNaN( min_sn_Hb ) && data_sn_Hb <= max_sn_Hb ) || ( min_sn_Hb <= data_sn_Hb  && isNaN( max_sn_Hb ) ) || ( min_sn_Hb <= data_sn_Hb  && data_sn_Hb <= max_sn_Hb ) )
 && ( ( isNaN( min_sn_OII ) && isNaN( max_sn_OII ) ) || ( isNaN( min_sn_OII ) && data_sn_OII <= max_sn_OII ) || ( min_sn_OII <= data_sn_OII  && isNaN( max_sn_OII ) ) || ( min_sn_OII <= data_sn_OII  && data_sn_OII <= max_sn_OII ) ) ) 
        { 
            return true;
        }
        return false;
    }
);

//// Update URL with filter parameters
var filter_params = ['t_g141', 'mag_auto', 'use_spec', 'is_point', 'z_map', 'chinu', 'bic_diff', 'zw1', 'flux_radius', 'sn_SIII', 'sn_Ha', 'sn_OIII', 'sn_Hb', 'sn_OII'];

$.UpdateFilterURL = function () {
    var i;
    var filter_url = "";
    for (i = 0; i < filter_params.length; i++) { 
        if ($('#'+filter_params[i]+'_min').val() != "") {
            filter_url += '&'+filter_params[i]+'_min='+
                    $('#'+filter_params[i]+'_min').val();
        }
        if ($('#'+filter_params[i]+'_max').val() != "") {
            filter_url += '&'+filter_params[i]+'_max='+
                    $('#'+filter_params[i]+'_max').val();
        }
    }

    if (filter_url != "") {
        var filtered_url = window.location.href.split('?')[0] + '?' + filter_url;
        window.history.pushState('', '', filtered_url);
    }
}

$(document).ready(function() {

   $('#sn_OII_min').val($.urlParam('sn_OII_min'));
   $('#sn_OII_max').val($.urlParam('sn_OII_max'));
   $('#sn_Hb_min').val($.urlParam('sn_Hb_min'));
   $('#sn_Hb_max').val($.urlParam('sn_Hb_max'));
   $('#sn_OIII_min').val($.urlParam('sn_OIII_min'));
   $('#sn_OIII_max').val($.urlParam('sn_OIII_max'));
   $('#sn_Ha_min').val($.urlParam('sn_Ha_min'));
   $('#sn_Ha_max').val($.urlParam('sn_Ha_max'));
   $('#sn_SIII_min').val($.urlParam('sn_SIII_min'));
   $('#sn_SIII_max').val($.urlParam('sn_SIII_max'));
   $('#flux_radius_min').val($.urlParam('flux_radius_min'));
   $('#flux_radius_max').val($.urlParam('flux_radius_max'));
   $('#zw1_min').val($.urlParam('zw1_min'));
   $('#zw1_max').val($.urlParam('zw1_max'));
   $('#bic_diff_min').val($.urlParam('bic_diff_min'));
   $('#bic_diff_max').val($.urlParam('bic_diff_max'));
   $('#chinu_min').val($.urlParam('chinu_min'));
   $('#chinu_max').val($.urlParam('chinu_max'));
   $('#z_map_min').val($.urlParam('z_map_min'));
   $('#z_map_max').val($.urlParam('z_map_max'));
   $('#is_point_min').val($.urlParam('is_point_min'));
   $('#is_point_max').val($.urlParam('is_point_max'));
   $('#use_spec_min').val($.urlParam('use_spec_min'));
   $('#use_spec_max').val($.urlParam('use_spec_max'));
   $('#mag_auto_min').val($.urlParam('mag_auto_min'));
   $('#mag_auto_max').val($.urlParam('mag_auto_max'));
   $('#t_g141_min').val($.urlParam('t_g141_min'));
   $('#t_g141_max').val($.urlParam('t_g141_max'));

   var table = $('#table48003259640').DataTable({
        order: [],
        pageLength: 50,
        "ajax": "sparcs-2019.05.17.json",
        "deferRender": true,
        dom: 'Blfrtip',
        buttons: ['csv'],
        lengthMenu: [[10, 25, 50, 100, 500, 1000, -1], [10, 25, 50, 100, 500, 1000, 'All']],
        pagingType: "full_numbers",
        columnDefs: [{targets: [2, 3, 4, 5, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19], type: "optionalnum"}]
    });

    // Event listener to the two range filtering inputs to redraw on input
    $('#t_g141_min, #t_g141_max, #mag_auto_min, #mag_auto_max, #use_spec_min, #use_spec_max, #is_point_min, #is_point_max, #z_map_min, #z_map_max, #chinu_min, #chinu_max, #bic_diff_min, #bic_diff_max, #zw1_min, #zw1_max, #flux_radius_min, #flux_radius_max, #sn_SIII_min, #sn_SIII_max, #sn_Ha_min, #sn_Ha_max, #sn_OIII_min, #sn_OIII_max, #sn_Hb_min, #sn_Hb_max, #sn_OII_min, #sn_OII_max').keyup( function() {
        table.draw();
        $.UpdateFilterURL();
    } );

    $('a.toggle-vis').on( 'click', function (e) {
        e.preventDefault();

        // Get the column API object
        var column = table.column( $(this).attr('data-column') );

        // Toggle the visibility
        column.visible( ! column.visible() );
    } );
    
                        } );  </script>

<div style="border:1px solid black; padding:10px; margin:10px">
    <b>Toggle column:</b></br> <a class="toggle-vis" data-column="0"> <tt>root</tt> </a> <b>/</b> <a class="toggle-vis" data-column="1"> <tt>idx</tt> </a> <b>/</b> <a class="toggle-vis" data-column="2"> <tt>ra</tt> </a> <b>/</b> <a class="toggle-vis" data-column="3"> <tt>dec</tt> </a> <b>/</b> <a class="toggle-vis" data-column="4"> <tt>t_g141</tt> </a> <b>/</b> <a class="toggle-vis" data-column="5"> <tt>mag_auto</tt> </a> <b>/</b> <a class="toggle-vis" data-column="6"> <tt>use_spec</tt> </a> <b>/</b> <a class="toggle-vis" data-column="7"> <tt>is_point</tt> </a> <b>/</b> <a class="toggle-vis" data-column="8"> <tt>z_map</tt> </a> <b>/</b> <a class="toggle-vis" data-column="9"> <tt>chinu</tt> </a> <b>/</b> <a class="toggle-vis" data-column="10"> <tt>bic_diff</tt> </a> <b>/</b> <a class="toggle-vis" data-column="11"> <tt>zw1</tt> </a> <b>/</b> <a class="toggle-vis" data-column="12"> <tt>ok_width</tt> </a> <b>/</b> <a class="toggle-vis" data-column="13"> <tt>flux_radius</tt> </a> <b>/</b> <a class="toggle-vis" data-column="14"> <tt>sn_SIII</tt> </a> <b>/</b> <a class="toggle-vis" data-column="15"> <tt>sn_Ha</tt> </a> <b>/</b> <a class="toggle-vis" data-column="16"> <tt>sn_OIII</tt> </a> <b>/</b> <a class="toggle-vis" data-column="17"> <tt>sn_Hb</tt> </a> <b>/</b> <a class="toggle-vis" data-column="18"> <tt>sn_OII</tt> </a> <b>/</b> <a class="toggle-vis" data-column="19"> <tt>log_mass</tt> </a> <b>/</b> <a class="toggle-vis" data-column="20"> <tt>aws_png_stack</tt> </a> <b>/</b> <a class="toggle-vis" data-column="21"> <tt>aws_png_full</tt> </a> <b>/</b> <a class="toggle-vis" data-column="22"> <tt>aws_png_line</tt> </a>
</div>
            
            

<div style="border:1px solid black; padding:10px; margin:10px">
<b> Filter: </b>
    <table>
      <tr> <td> <input type="text" id="t_g141_min" name="t_g141_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>t_g141</tt> </td> <td>  &#60; <input type="text" id="t_g141_max" name="t_g141_max" style="width:40px;">

<tr> <td> <input type="text" id="mag_auto_min" name="mag_auto_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>mag_auto</tt> </td> <td>  &#60; <input type="text" id="mag_auto_max" name="mag_auto_max" style="width:40px;">

<tr> <td> <input type="text" id="use_spec_min" name="use_spec_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>use_spec</tt> </td> <td>  &#60; <input type="text" id="use_spec_max" name="use_spec_max" style="width:40px;">

<tr> <td> <input type="text" id="is_point_min" name="is_point_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>is_point</tt> </td> <td>  &#60; <input type="text" id="is_point_max" name="is_point_max" style="width:40px;">

<tr> <td> <input type="text" id="z_map_min" name="z_map_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>z_map</tt> </td> <td>  &#60; <input type="text" id="z_map_max" name="z_map_max" style="width:40px;">

<tr> <td> <input type="text" id="chinu_min" name="chinu_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>chinu</tt> </td> <td>  &#60; <input type="text" id="chinu_max" name="chinu_max" style="width:40px;">

<tr> <td> <input type="text" id="bic_diff_min" name="bic_diff_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>bic_diff</tt> </td> <td>  &#60; <input type="text" id="bic_diff_max" name="bic_diff_max" style="width:40px;">

<tr> <td> <input type="text" id="zw1_min" name="zw1_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>zw1</tt> </td> <td>  &#60; <input type="text" id="zw1_max" name="zw1_max" style="width:40px;">

<tr> <td> <input type="text" id="flux_radius_min" name="flux_radius_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>flux_radius</tt> </td> <td>  &#60; <input type="text" id="flux_radius_max" name="flux_radius_max" style="width:40px;">

<tr> <td> <input type="text" id="sn_SIII_min" name="sn_SIII_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>sn_SIII</tt> </td> <td>  &#60; <input type="text" id="sn_SIII_max" name="sn_SIII_max" style="width:40px;">

<tr> <td> <input type="text" id="sn_Ha_min" name="sn_Ha_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>sn_Ha</tt> </td> <td>  &#60; <input type="text" id="sn_Ha_max" name="sn_Ha_max" style="width:40px;">

<tr> <td> <input type="text" id="sn_OIII_min" name="sn_OIII_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>sn_OIII</tt> </td> <td>  &#60; <input type="text" id="sn_OIII_max" name="sn_OIII_max" style="width:40px;">

<tr> <td> <input type="text" id="sn_Hb_min" name="sn_Hb_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>sn_Hb</tt> </td> <td>  &#60; <input type="text" id="sn_Hb_max" name="sn_Hb_max" style="width:40px;">

<tr> <td> <input type="text" id="sn_OII_min" name="sn_OII_min" style="width:40px;"> &#60; </td> <td style="align:center;"> <tt>sn_OII</tt> </td> <td>  &#60; <input type="text" id="sn_OII_max" name="sn_OII_max" style="width:40px;">

    </table>
</div>

  <table class="display compact" id="table48003259640">
   <thead>
    <tr>
     <th>root</th>
     <th>idx</th>
     <th>ra</th>
     <th>dec</th>
     <th>t_g141</th>
     <th>mag_auto</th>
     <th>use_spec</th>
     <th>is_point</th>
     <th>z_map</th>
     <th>chinu</th>
     <th>bic_diff</th>
     <th>zw1</th>
     <th>ok_width</th>
     <th>flux_radius</th>
     <th>sn_SIII</th>
     <th>sn_Ha</th>
     <th>sn_OIII</th>
     <th>sn_Hb</th>
     <th>sn_OII</th>
     <th>log_mass</th>
     <th>aws_png_stack</th>
     <th>aws_png_full</th>
     <th>aws_png_line</th>
    </tr>
   </thead>
  </table>
 </body>
</html>

